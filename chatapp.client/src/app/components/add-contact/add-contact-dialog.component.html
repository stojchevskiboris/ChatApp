<h2 mat-dialog-title>Add New Contact</h2>
<div mat-dialog-content class="pt-2">
  <mat-form-field appearance="outline" class="w-100">
    <mat-label>Search</mat-label>
    <input matInput [(ngModel)]="query" (input)="onSearch()" placeholder="Name" />
  </mat-form-field>

  <div *ngIf="isLoading" class="text-center">
    <mat-progress-spinner diameter="30" mode="indeterminate"></mat-progress-spinner>
  </div>

  <div *ngIf="!isLoading && searchResults.length === 0 && query.length > 2" class="text-center">
    <p>No results found</p>
  </div>

  <div class="add-contacts-list">
  <ng-scrollbar>
    <mat-list *ngIf="!isLoading && searchResults.length > 0">
      <mat-list-item *ngFor="let user of searchResults">
        <div class="d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center">
            <img matListAvatar class="w-40px h-40px" [src]="user.profilePicture || 'img/default-avatar.png'" />
            <div class="ms-2">{{ user.firstName }} {{ user.lastName }}</div>
          </div>
          <button mat-flat-button (click)="addContact(user)">
            <!-- <button mat-button color="primary" [disabled]="user.isAdded" (click)="addContact(user)"> -->
            {{ user.isAdded ? 'Requested' : 'Add' }}
          </button>
        </div>
      </mat-list-item>
    </mat-list>
  </ng-scrollbar>
</div>

</div>

<mat-dialog-actions>
  <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>